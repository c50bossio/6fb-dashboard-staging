{
  "summary": {
    "test_timestamp": "2025-08-05T18:08:42.878444",
    "total_endpoint_tests": 59,
    "passed_endpoint_tests": 33,
    "failed_endpoint_tests": 26,
    "endpoint_success_rate": 55.932203389830505,
    "database_tests": 14,
    "database_passed": 14,
    "ai_service_tests": 4,
    "ai_services_passed": 4,
    "performance_tests": 4,
    "fast_responses": 4,
    "total_errors": 26,
    "backend_status": "NEEDS_ATTENTION"
  },
  "endpoint_tests": {
    "User Registration": {
      "timestamp": "2025-08-05T18:08:42.750226",
      "success": false,
      "details": null,
      "error": "Expected 200, got 500: Internal Server Error",
      "duration_ms": 26.219844818115234
    },
    "User Login": {
      "timestamp": "2025-08-05T18:08:42.753776",
      "success": false,
      "details": null,
      "error": "Expected 200, got 401: {\"detail\":\"Invalid email or password\"}",
      "duration_ms": 3.5390853881835938
    },
    "Get Current User": {
      "timestamp": "2025-08-05T18:08:42.755034",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.2469291687011719
    },
    "User Logout": {
      "timestamp": "2025-08-05T18:08:42.756099",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.0607242584228516
    },
    "Root Endpoint": {
      "timestamp": "2025-08-05T18:08:42.757230",
      "success": true,
      "details": "Status: 200, Response keys: ['message', 'status', 'version', 'endpoints']",
      "error": null,
      "duration_ms": 1.1227130889892578
    },
    "Health Check": {
      "timestamp": "2025-08-05T18:08:42.758242",
      "success": true,
      "details": "Status: 200, Response keys: ['status', 'service', 'version']",
      "error": null,
      "duration_ms": 1.0051727294921875
    },
    "Detailed Health Check": {
      "timestamp": "2025-08-05T18:08:42.759306",
      "success": true,
      "details": "Status: 200, Response keys: ['status', 'rag_engine', 'database', 'learning_enabled', 'timestamp']",
      "error": null,
      "duration_ms": 1.0590553283691406
    },
    "Get Available Agents": {
      "timestamp": "2025-08-05T18:08:42.760562",
      "success": true,
      "details": "Status: 200, Response keys: Non-dict response",
      "error": null,
      "duration_ms": 1.2519359588623047
    },
    "AI Chat Endpoint": {
      "timestamp": "2025-08-05T18:08:42.762386",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.8138885498046875
    },
    "Dashboard Statistics": {
      "timestamp": "2025-08-05T18:08:42.763779",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.3890266418457031
    },
    "Recent Bookings": {
      "timestamp": "2025-08-05T18:08:42.765138",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.3470649719238281
    },
    "Database Health": {
      "timestamp": "2025-08-05T18:08:42.766523",
      "success": true,
      "details": "Status: 200, Response keys: ['status', 'type', 'connection']",
      "error": null,
      "duration_ms": 1.377105712890625
    },
    "Database Statistics": {
      "timestamp": "2025-08-05T18:08:42.768566",
      "success": true,
      "details": "Status: 200, Response keys: ['tables', 'size_mb', 'last_backup']",
      "error": null,
      "duration_ms": 2.03704833984375
    },
    "Database Information": {
      "timestamp": "2025-08-05T18:08:42.770121",
      "success": true,
      "details": "Status: 200, Response keys: ['type', 'version', 'location', 'features']",
      "error": null,
      "duration_ms": 1.5561580657958984
    },
    "Agentic Coach Chat": {
      "timestamp": "2025-08-05T18:08:42.771795",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.6531944274902344
    },
    "Update Shop Context": {
      "timestamp": "2025-08-05T18:08:42.772929",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.129150390625
    },
    "Get Conversation History": {
      "timestamp": "2025-08-05T18:08:42.774246",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.3079643249511719
    },
    "Get Learning Insights": {
      "timestamp": "2025-08-05T18:08:42.775433",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.1839866638183594
    },
    "Save Barbershop Settings": {
      "timestamp": "2025-08-05T18:08:42.776835",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.3918876647949219
    },
    "Get Barbershop Settings": {
      "timestamp": "2025-08-05T18:08:42.777870",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.0256767272949219
    },
    "Save Notification Settings": {
      "timestamp": "2025-08-05T18:08:42.779050",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.1739730834960938
    },
    "Get Notification Settings": {
      "timestamp": "2025-08-05T18:08:42.780092",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.0380744934082031
    },
    "Save Business Hours": {
      "timestamp": "2025-08-05T18:08:42.781393",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.2962818145751953
    },
    "Get Business Hours": {
      "timestamp": "2025-08-05T18:08:42.782671",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.2688636779785156
    },
    "Send Notification": {
      "timestamp": "2025-08-05T18:08:42.783936",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.25885009765625
    },
    "Test Email Notification": {
      "timestamp": "2025-08-05T18:08:42.785190",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.2428760528564453
    },
    "Get Notification History": {
      "timestamp": "2025-08-05T18:08:42.786451",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.2559890747070312
    },
    "Queue Notification": {
      "timestamp": "2025-08-05T18:08:42.787717",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.2578964233398438
    },
    "Get Queue Status": {
      "timestamp": "2025-08-05T18:08:42.788765",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.039743423461914
    },
    "Get Current Billing": {
      "timestamp": "2025-08-05T18:08:42.789811",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.0411739349365234
    },
    "Get Billing History": {
      "timestamp": "2025-08-05T18:08:42.790856",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.0371208190917969
    },
    "Enhanced AI Chat": {
      "timestamp": "2025-08-05T18:08:42.792564",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'response', 'provider', 'confidence', 'message_type', 'selected_provider', 'contextual_insights', 'knowledge_enhanced', 'timestamp', 'usage', 'session_id']",
      "error": null,
      "duration_ms": 1.7020702362060547
    },
    "AI Provider Status": {
      "timestamp": "2025-08-05T18:08:42.793933",
      "success": true,
      "details": "Status: 200, Response keys: ['available_providers', 'total_providers', 'capabilities']",
      "error": null,
      "duration_ms": 1.359701156616211
    },
    "Agent System Status": {
      "timestamp": "2025-08-05T18:08:42.795401",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'agent_system', 'performance_metrics', 'timestamp']",
      "error": null,
      "duration_ms": 1.463174819946289
    },
    "Get AI Insights": {
      "timestamp": "2025-08-05T18:08:42.801323",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'error', 'insights', 'count']",
      "error": null,
      "duration_ms": 5.915164947509766
    },
    "Generate AI Insights": {
      "timestamp": "2025-08-05T18:08:42.804708",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'error', 'insights', 'generated']",
      "error": null,
      "duration_ms": 3.3800601959228516
    },
    "Get Predictive Analytics": {
      "timestamp": "2025-08-05T18:08:42.805958",
      "success": false,
      "details": null,
      "error": "Expected 200, got 422: {\"detail\":[{\"type\":\"missing\",\"loc\":[\"query\",\"user_id\"],\"msg\":\"Field required\",\"input\":null}]}",
      "duration_ms": 1.2402534484863281
    },
    "Generate Predictive Forecast": {
      "timestamp": "2025-08-05T18:08:42.809349",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'forecast', 'user_id', 'forecast_type', 'time_horizon', 'timestamp']",
      "error": null,
      "duration_ms": 3.384113311767578
    },
    "Get Predictive Dashboard": {
      "timestamp": "2025-08-05T18:08:42.810900",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'error', 'dashboard', 'fallback']",
      "error": null,
      "duration_ms": 1.544952392578125
    },
    "Generate Business Recommendations": {
      "timestamp": "2025-08-05T18:08:42.816314",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'recommendations', 'ai_enhanced', 'service_version', 'timestamp']",
      "error": null,
      "duration_ms": 5.409002304077148
    },
    "Get Recommendations Engine Status": {
      "timestamp": "2025-08-05T18:08:42.817866",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'engine_status', 'recommendations_engine_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.5397071838378906
    },
    "Generate Enhanced Recommendations": {
      "timestamp": "2025-08-05T18:08:42.822429",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'data', 'service_type', 'timestamp']",
      "error": null,
      "duration_ms": 4.555940628051758
    },
    "Get Real-time Performance Metrics": {
      "timestamp": "2025-08-05T18:08:42.823675",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'realtime_metrics', 'timestamp']",
      "error": null,
      "duration_ms": 1.2280941009521484
    },
    "Get System Performance Report": {
      "timestamp": "2025-08-05T18:08:42.826222",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'error', 'fallback_report', 'fallback']",
      "error": null,
      "duration_ms": 2.542734146118164
    },
    "Get Monitoring System Status": {
      "timestamp": "2025-08-05T18:08:42.827453",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'monitoring_status', 'performance_monitoring_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.2221336364746094
    },
    "Get Component Health": {
      "timestamp": "2025-08-05T18:08:42.828545",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'component_health', 'component_name', 'timestamp']",
      "error": null,
      "duration_ms": 1.0862350463867188
    },
    "Record Performance Metric": {
      "timestamp": "2025-08-05T18:08:42.830467",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'message', 'component', 'metric', 'value', 'timestamp']",
      "error": null,
      "duration_ms": 1.9156932830810547
    },
    "Get Knowledge Base Status": {
      "timestamp": "2025-08-05T18:08:42.832683",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'knowledge_status', 'enhanced_knowledge_available', 'timestamp']",
      "error": null,
      "duration_ms": 2.2020339965820312
    },
    "Search Knowledge Base": {
      "timestamp": "2025-08-05T18:08:42.844765",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'search_results', 'query', 'domains_searched', 'timestamp']",
      "error": null,
      "duration_ms": 12.077093124389648
    },
    "Get Contextual Insights": {
      "timestamp": "2025-08-05T18:08:42.847054",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'contextual_insights', 'query', 'timestamp']",
      "error": null,
      "duration_ms": 2.277851104736328
    },
    "Enhanced Contextual Search": {
      "timestamp": "2025-08-05T18:08:42.848866",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'contextual_search_results', 'query_analysis', 'timestamp']",
      "error": null,
      "duration_ms": 1.8041133880615234
    },
    "AI Orchestrator Status": {
      "timestamp": "2025-08-05T18:08:42.850785",
      "success": true,
      "details": "Status: 200, Response keys: ['available_providers', 'total_providers', 'capabilities']",
      "error": null,
      "duration_ms": 1.394033432006836
    },
    "Business Recommendations Status": {
      "timestamp": "2025-08-05T18:08:42.851858",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'engine_status', 'recommendations_engine_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.0631084442138672
    },
    "Performance Monitoring Status": {
      "timestamp": "2025-08-05T18:08:42.852995",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'monitoring_status', 'performance_monitoring_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.1327266693115234
    },
    "Knowledge Base Status": {
      "timestamp": "2025-08-05T18:08:42.854322",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'knowledge_status', 'enhanced_knowledge_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.31988525390625
    },
    "Invalid Endpoint": {
      "timestamp": "2025-08-05T18:08:42.874390",
      "success": true,
      "details": "Status: 404, Response keys: ['detail']",
      "error": null,
      "duration_ms": 0.9799003601074219
    },
    "Malformed JSON Request": {
      "timestamp": "2025-08-05T18:08:42.875332",
      "success": false,
      "details": null,
      "error": "Expected 422, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 0.9369850158691406
    },
    "Missing Login Fields": {
      "timestamp": "2025-08-05T18:08:42.876390",
      "success": true,
      "details": "Status: 422, Response keys: ['detail']",
      "error": null,
      "duration_ms": 1.0497570037841797
    },
    "Invalid Authentication Token": {
      "timestamp": "2025-08-05T18:08:42.878426",
      "success": true,
      "details": "Status: 401, Response keys: ['detail']",
      "error": null,
      "duration_ms": 2.0308494567871094
    }
  },
  "database_tests": {
    "table_users_exists": {
      "success": true
    },
    "table_sessions_exists": {
      "success": true
    },
    "table_chat_history_exists": {
      "success": true
    },
    "table_agents_exists": {
      "success": true
    },
    "table_shop_profiles_exists": {
      "success": true
    },
    "table_users_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "email",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "password_hash",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "shop_name",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 5,
          "name": "is_active",
          "type": "BOOLEAN",
          "notnull": 0,
          "dflt_value": "1",
          "pk": 0
        }
      ]
    },
    "table_sqlite_sequence_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "name",
          "type": "",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 1,
          "name": "seq",
          "type": "",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "table_sessions_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "token",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 3,
          "name": "expires_at",
          "type": "TIMESTAMP",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "table_chat_history_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "agent_id",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "message",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "response",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ]
    },
    "table_agents_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "name",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "description",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "status",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "table_shop_profiles_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "profile_data",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ]
    },
    "table_notification_history_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "type",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "recipient",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "subject",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "content",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "status",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "error_message",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 8,
          "name": "sent_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 9,
          "name": "metadata",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "table_notification_queue_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "notification_type",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "recipient",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "subject",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "content",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "template_id",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "template_data",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 8,
          "name": "priority",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": "5",
          "pk": 0
        },
        {
          "cid": 9,
          "name": "status",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": "'pending'",
          "pk": 0
        },
        {
          "cid": 10,
          "name": "retry_count",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": "0",
          "pk": 0
        },
        {
          "cid": 11,
          "name": "max_retries",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": "3",
          "pk": 0
        },
        {
          "cid": 12,
          "name": "scheduled_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 13,
          "name": "processed_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 14,
          "name": "error_message",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 15,
          "name": "metadata",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "user_count": {
      "success": true,
      "count": 5
    }
  },
  "ai_service_tests": {
    "ai_orchestrator": {
      "success": true,
      "status": false,
      "details": {
        "available_providers": [],
        "total_providers": 0,
        "capabilities": {}
      }
    },
    "business_recommendations": {
      "success": true,
      "status": true,
      "details": {
        "success": true,
        "engine_status": {
          "cached_businesses": 0,
          "total_recommendations_generated": 0,
          "engine_status": "operational",
          "last_generation": null
        },
        "recommendations_engine_available": true,
        "timestamp": "2025-08-05T22:08:42.852156"
      }
    },
    "performance_monitoring": {
      "success": true,
      "status": true,
      "details": {
        "success": true,
        "monitoring_status": {
          "monitoring_active": true,
          "components_monitored": 1,
          "total_metrics_collected": 1,
          "last_collection": "2025-08-05T22:08:42.830568",
          "alert_thresholds_configured": 4,
          "optimization_cache_size": 0
        },
        "performance_monitoring_available": true,
        "timestamp": "2025-08-05T22:08:42.853262"
      }
    },
    "knowledge_base": {
      "success": true,
      "status": true,
      "details": {
        "success": true,
        "knowledge_status": {
          "total_documents": 13,
          "domain_distribution": {
            "barbershop_operations": 2,
            "customer_experience": 3,
            "marketing_strategies": 3,
            "revenue_optimization": 3,
            "staff_management": 2
          },
          "average_confidence": 0.866153846153846,
          "knowledge_graph_entities": 0,
          "status": "operational"
        },
        "enhanced_knowledge_available": true,
        "timestamp": "2025-08-05T22:08:42.854535"
      }
    }
  },
  "performance_tests": {
    "GET__health": {
      "avg_response_time_ms": 0.8008956909179688,
      "min_response_time_ms": 0.7040500640869141,
      "max_response_time_ms": 0.8950233459472656,
      "all_response_times": [
        0.8950233459472656,
        0.7963180541992188,
        0.7040500640869141,
        0.8070468902587891,
        0.8020401000976562
      ],
      "success": true
    },
    "GET__api_v1_agents": {
      "avg_response_time_ms": 1.036691665649414,
      "min_response_time_ms": 0.8952617645263672,
      "max_response_time_ms": 1.3079643249511719,
      "all_response_times": [
        0.9002685546875,
        0.949859619140625,
        1.1301040649414062,
        0.8952617645263672,
        1.3079643249511719
      ],
      "success": true
    },
    "GET__api_v1_dashboard_stats": {
      "avg_response_time_ms": 0.971221923828125,
      "min_response_time_ms": 0.8571147918701172,
      "max_response_time_ms": 1.1260509490966797,
      "all_response_times": [
        1.0459423065185547,
        0.8921623229980469,
        1.1260509490966797,
        0.8571147918701172,
        0.9348392486572266
      ],
      "success": true
    },
    "POST__api_v1_chat": {
      "avg_response_time_ms": 0.9742259979248047,
      "min_response_time_ms": 0.8869171142578125,
      "max_response_time_ms": 1.0991096496582031,
      "all_response_times": [
        1.0991096496582031,
        0.9510517120361328,
        0.9341239929199219,
        0.9999275207519531,
        0.8869171142578125
      ],
      "success": true
    }
  },
  "security_tests": {},
  "errors": [
    {
      "test": "User Registration",
      "error": "Expected 200, got 500: Internal Server Error",
      "timestamp": "2025-08-05T18:08:42.750236"
    },
    {
      "test": "User Login",
      "error": "Expected 200, got 401: {\"detail\":\"Invalid email or password\"}",
      "timestamp": "2025-08-05T18:08:42.753784"
    },
    {
      "test": "Get Current User",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.755039"
    },
    {
      "test": "User Logout",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.756105"
    },
    {
      "test": "AI Chat Endpoint",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.762393"
    },
    {
      "test": "Dashboard Statistics",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.763790"
    },
    {
      "test": "Recent Bookings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.765145"
    },
    {
      "test": "Agentic Coach Chat",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.771800"
    },
    {
      "test": "Update Shop Context",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.772935"
    },
    {
      "test": "Get Conversation History",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.774250"
    },
    {
      "test": "Get Learning Insights",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.775440"
    },
    {
      "test": "Save Barbershop Settings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.776842"
    },
    {
      "test": "Get Barbershop Settings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.777874"
    },
    {
      "test": "Save Notification Settings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.779054"
    },
    {
      "test": "Get Notification Settings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.780097"
    },
    {
      "test": "Save Business Hours",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.781400"
    },
    {
      "test": "Get Business Hours",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.782675"
    },
    {
      "test": "Send Notification",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.783944"
    },
    {
      "test": "Test Email Notification",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.785194"
    },
    {
      "test": "Get Notification History",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.786458"
    },
    {
      "test": "Queue Notification",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.787723"
    },
    {
      "test": "Get Queue Status",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.788769"
    },
    {
      "test": "Get Current Billing",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.789817"
    },
    {
      "test": "Get Billing History",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.790861"
    },
    {
      "test": "Get Predictive Analytics",
      "error": "Expected 200, got 422: {\"detail\":[{\"type\":\"missing\",\"loc\":[\"query\",\"user_id\"],\"msg\":\"Field required\",\"input\":null}]}",
      "timestamp": "2025-08-05T18:08:42.805964"
    },
    {
      "test": "Malformed JSON Request",
      "error": "Expected 422, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:08:42.875339"
    }
  ]
}