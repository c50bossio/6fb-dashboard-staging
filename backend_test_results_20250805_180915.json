{
  "summary": {
    "test_timestamp": "2025-08-05T18:09:15.689843",
    "total_endpoint_tests": 59,
    "passed_endpoint_tests": 33,
    "failed_endpoint_tests": 26,
    "endpoint_success_rate": 55.932203389830505,
    "database_tests": 14,
    "database_passed": 14,
    "ai_service_tests": 4,
    "ai_services_passed": 4,
    "performance_tests": 4,
    "fast_responses": 4,
    "total_errors": 26,
    "backend_status": "NEEDS_ATTENTION"
  },
  "endpoint_tests": {
    "User Registration": {
      "timestamp": "2025-08-05T18:09:15.513031",
      "success": false,
      "details": null,
      "error": "Expected 200, got 500: Internal Server Error",
      "duration_ms": 12.237071990966797
    },
    "User Login": {
      "timestamp": "2025-08-05T18:09:15.517271",
      "success": false,
      "details": null,
      "error": "Expected 200, got 401: {\"detail\":\"Invalid email or password\"}",
      "duration_ms": 4.230737686157227
    },
    "Get Current User": {
      "timestamp": "2025-08-05T18:09:15.519493",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 2.2118091583251953
    },
    "User Logout": {
      "timestamp": "2025-08-05T18:09:15.521310",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.809835433959961
    },
    "Root Endpoint": {
      "timestamp": "2025-08-05T18:09:15.523283",
      "success": true,
      "details": "Status: 200, Response keys: ['message', 'status', 'version', 'endpoints']",
      "error": null,
      "duration_ms": 1.9659996032714844
    },
    "Health Check": {
      "timestamp": "2025-08-05T18:09:15.524685",
      "success": true,
      "details": "Status: 200, Response keys: ['status', 'service', 'version']",
      "error": null,
      "duration_ms": 1.3968944549560547
    },
    "Detailed Health Check": {
      "timestamp": "2025-08-05T18:09:15.526866",
      "success": true,
      "details": "Status: 200, Response keys: ['status', 'rag_engine', 'database', 'learning_enabled', 'timestamp']",
      "error": null,
      "duration_ms": 2.1779537200927734
    },
    "Get Available Agents": {
      "timestamp": "2025-08-05T18:09:15.528699",
      "success": true,
      "details": "Status: 200, Response keys: Non-dict response",
      "error": null,
      "duration_ms": 1.827239990234375
    },
    "AI Chat Endpoint": {
      "timestamp": "2025-08-05T18:09:15.531278",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 2.5718212127685547
    },
    "Dashboard Statistics": {
      "timestamp": "2025-08-05T18:09:15.533173",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.889944076538086
    },
    "Recent Bookings": {
      "timestamp": "2025-08-05T18:09:15.535046",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.8680095672607422
    },
    "Database Health": {
      "timestamp": "2025-08-05T18:09:15.537324",
      "success": true,
      "details": "Status: 200, Response keys: ['status', 'type', 'connection']",
      "error": null,
      "duration_ms": 2.273082733154297
    },
    "Database Statistics": {
      "timestamp": "2025-08-05T18:09:15.540000",
      "success": true,
      "details": "Status: 200, Response keys: ['tables', 'size_mb', 'last_backup']",
      "error": null,
      "duration_ms": 2.671957015991211
    },
    "Database Information": {
      "timestamp": "2025-08-05T18:09:15.541891",
      "success": true,
      "details": "Status: 200, Response keys: ['type', 'version', 'location', 'features']",
      "error": null,
      "duration_ms": 1.8877983093261719
    },
    "Agentic Coach Chat": {
      "timestamp": "2025-08-05T18:09:15.544299",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 2.402067184448242
    },
    "Update Shop Context": {
      "timestamp": "2025-08-05T18:09:15.546218",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.9142627716064453
    },
    "Get Conversation History": {
      "timestamp": "2025-08-05T18:09:15.547893",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.67083740234375
    },
    "Get Learning Insights": {
      "timestamp": "2025-08-05T18:09:15.549415",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.5189647674560547
    },
    "Save Barbershop Settings": {
      "timestamp": "2025-08-05T18:09:15.551733",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 2.3107528686523438
    },
    "Get Barbershop Settings": {
      "timestamp": "2025-08-05T18:09:15.553373",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.6350746154785156
    },
    "Save Notification Settings": {
      "timestamp": "2025-08-05T18:09:15.555182",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.8041133880615234
    },
    "Get Notification Settings": {
      "timestamp": "2025-08-05T18:09:15.556942",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.7561912536621094
    },
    "Save Business Hours": {
      "timestamp": "2025-08-05T18:09:15.559197",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 2.251148223876953
    },
    "Get Business Hours": {
      "timestamp": "2025-08-05T18:09:15.561678",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 2.4766921997070312
    },
    "Send Notification": {
      "timestamp": "2025-08-05T18:09:15.564049",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 2.3648738861083984
    },
    "Test Email Notification": {
      "timestamp": "2025-08-05T18:09:15.566289",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 2.231121063232422
    },
    "Get Notification History": {
      "timestamp": "2025-08-05T18:09:15.569938",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 3.6470890045166016
    },
    "Queue Notification": {
      "timestamp": "2025-08-05T18:09:15.573109",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 3.1621456146240234
    },
    "Get Queue Status": {
      "timestamp": "2025-08-05T18:09:15.574902",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.789093017578125
    },
    "Get Current Billing": {
      "timestamp": "2025-08-05T18:09:15.577601",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 2.69317626953125
    },
    "Get Billing History": {
      "timestamp": "2025-08-05T18:09:15.579295",
      "success": false,
      "details": null,
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.6891956329345703
    },
    "Enhanced AI Chat": {
      "timestamp": "2025-08-05T18:09:15.582575",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'response', 'provider', 'confidence', 'message_type', 'selected_provider', 'contextual_insights', 'knowledge_enhanced', 'timestamp', 'usage', 'session_id']",
      "error": null,
      "duration_ms": 3.2758712768554688
    },
    "AI Provider Status": {
      "timestamp": "2025-08-05T18:09:15.584768",
      "success": true,
      "details": "Status: 200, Response keys: ['available_providers', 'total_providers', 'capabilities']",
      "error": null,
      "duration_ms": 2.187013626098633
    },
    "Agent System Status": {
      "timestamp": "2025-08-05T18:09:15.587220",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'agent_system', 'performance_metrics', 'timestamp']",
      "error": null,
      "duration_ms": 2.44903564453125
    },
    "Get AI Insights": {
      "timestamp": "2025-08-05T18:09:15.591929",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'error', 'insights', 'count']",
      "error": null,
      "duration_ms": 4.703283309936523
    },
    "Generate AI Insights": {
      "timestamp": "2025-08-05T18:09:15.596852",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'error', 'insights', 'generated']",
      "error": null,
      "duration_ms": 4.920005798339844
    },
    "Get Predictive Analytics": {
      "timestamp": "2025-08-05T18:09:15.598795",
      "success": false,
      "details": null,
      "error": "Expected 200, got 422: {\"detail\":[{\"type\":\"missing\",\"loc\":[\"query\",\"user_id\"],\"msg\":\"Field required\",\"input\":null}]}",
      "duration_ms": 1.9371509552001953
    },
    "Generate Predictive Forecast": {
      "timestamp": "2025-08-05T18:09:15.606574",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'forecast', 'user_id', 'forecast_type', 'time_horizon', 'timestamp']",
      "error": null,
      "duration_ms": 7.773876190185547
    },
    "Get Predictive Dashboard": {
      "timestamp": "2025-08-05T18:09:15.609359",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'error', 'dashboard', 'fallback']",
      "error": null,
      "duration_ms": 2.7778148651123047
    },
    "Generate Business Recommendations": {
      "timestamp": "2025-08-05T18:09:15.621057",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'recommendations', 'ai_enhanced', 'service_version', 'timestamp']",
      "error": null,
      "duration_ms": 11.692047119140625
    },
    "Get Recommendations Engine Status": {
      "timestamp": "2025-08-05T18:09:15.622195",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'engine_status', 'recommendations_engine_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.1279582977294922
    },
    "Generate Enhanced Recommendations": {
      "timestamp": "2025-08-05T18:09:15.626367",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'data', 'service_type', 'timestamp']",
      "error": null,
      "duration_ms": 4.172801971435547
    },
    "Get Real-time Performance Metrics": {
      "timestamp": "2025-08-05T18:09:15.627451",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'realtime_metrics', 'timestamp']",
      "error": null,
      "duration_ms": 1.0650157928466797
    },
    "Get System Performance Report": {
      "timestamp": "2025-08-05T18:09:15.630081",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'error', 'fallback_report', 'fallback']",
      "error": null,
      "duration_ms": 2.624034881591797
    },
    "Get Monitoring System Status": {
      "timestamp": "2025-08-05T18:09:15.631151",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'monitoring_status', 'performance_monitoring_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.0647773742675781
    },
    "Get Component Health": {
      "timestamp": "2025-08-05T18:09:15.632186",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'component_health', 'component_name', 'timestamp']",
      "error": null,
      "duration_ms": 1.0287761688232422
    },
    "Record Performance Metric": {
      "timestamp": "2025-08-05T18:09:15.633235",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'message', 'component', 'metric', 'value', 'timestamp']",
      "error": null,
      "duration_ms": 1.0449886322021484
    },
    "Get Knowledge Base Status": {
      "timestamp": "2025-08-05T18:09:15.634343",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'knowledge_status', 'enhanced_knowledge_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.1012554168701172
    },
    "Search Knowledge Base": {
      "timestamp": "2025-08-05T18:09:15.637300",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'search_results', 'query', 'domains_searched', 'timestamp']",
      "error": null,
      "duration_ms": 2.955913543701172
    },
    "Get Contextual Insights": {
      "timestamp": "2025-08-05T18:09:15.642536",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'contextual_insights', 'query', 'timestamp']",
      "error": null,
      "duration_ms": 5.227088928222656
    },
    "Enhanced Contextual Search": {
      "timestamp": "2025-08-05T18:09:15.647151",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'contextual_search_results', 'query_analysis', 'timestamp']",
      "error": null,
      "duration_ms": 4.606962203979492
    },
    "AI Orchestrator Status": {
      "timestamp": "2025-08-05T18:09:15.649491",
      "success": true,
      "details": "Status: 200, Response keys: ['available_providers', 'total_providers', 'capabilities']",
      "error": null,
      "duration_ms": 1.8382072448730469
    },
    "Business Recommendations Status": {
      "timestamp": "2025-08-05T18:09:15.651453",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'engine_status', 'recommendations_engine_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.9578933715820312
    },
    "Performance Monitoring Status": {
      "timestamp": "2025-08-05T18:09:15.652954",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'monitoring_status', 'performance_monitoring_available', 'timestamp']",
      "error": null,
      "duration_ms": 1.4979839324951172
    },
    "Knowledge Base Status": {
      "timestamp": "2025-08-05T18:09:15.654987",
      "success": true,
      "details": "Status: 200, Response keys: ['success', 'knowledge_status', 'enhanced_knowledge_available', 'timestamp']",
      "error": null,
      "duration_ms": 2.0258426666259766
    },
    "Invalid Endpoint": {
      "timestamp": "2025-08-05T18:09:15.684056",
      "success": true,
      "details": "Status: 404, Response keys: ['detail']",
      "error": null,
      "duration_ms": 1.4259815216064453
    },
    "Malformed JSON Request": {
      "timestamp": "2025-08-05T18:09:15.685908",
      "success": false,
      "details": null,
      "error": "Expected 422, got 403: {\"detail\":\"Not authenticated\"}",
      "duration_ms": 1.8460750579833984
    },
    "Missing Login Fields": {
      "timestamp": "2025-08-05T18:09:15.687397",
      "success": true,
      "details": "Status: 422, Response keys: ['detail']",
      "error": null,
      "duration_ms": 1.4848709106445312
    },
    "Invalid Authentication Token": {
      "timestamp": "2025-08-05T18:09:15.689829",
      "success": true,
      "details": "Status: 401, Response keys: ['detail']",
      "error": null,
      "duration_ms": 2.427816390991211
    }
  },
  "database_tests": {
    "table_users_exists": {
      "success": true
    },
    "table_sessions_exists": {
      "success": true
    },
    "table_chat_history_exists": {
      "success": true
    },
    "table_agents_exists": {
      "success": true
    },
    "table_shop_profiles_exists": {
      "success": true
    },
    "table_users_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "email",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "password_hash",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "shop_name",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 5,
          "name": "is_active",
          "type": "BOOLEAN",
          "notnull": 0,
          "dflt_value": "1",
          "pk": 0
        }
      ]
    },
    "table_sqlite_sequence_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "name",
          "type": "",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 1,
          "name": "seq",
          "type": "",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "table_sessions_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "token",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 3,
          "name": "expires_at",
          "type": "TIMESTAMP",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "table_chat_history_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "agent_id",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "message",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "response",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ]
    },
    "table_agents_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "name",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "description",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "status",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "table_shop_profiles_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "profile_data",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        }
      ]
    },
    "table_notification_history_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "type",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "recipient",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "subject",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "content",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "status",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "error_message",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 8,
          "name": "sent_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 9,
          "name": "metadata",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "table_notification_queue_structure": {
      "success": true,
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "notification_type",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "recipient",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "subject",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "content",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "template_id",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "template_data",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 8,
          "name": "priority",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": "5",
          "pk": 0
        },
        {
          "cid": 9,
          "name": "status",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": "'pending'",
          "pk": 0
        },
        {
          "cid": 10,
          "name": "retry_count",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": "0",
          "pk": 0
        },
        {
          "cid": 11,
          "name": "max_retries",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": "3",
          "pk": 0
        },
        {
          "cid": 12,
          "name": "scheduled_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": "CURRENT_TIMESTAMP",
          "pk": 0
        },
        {
          "cid": 13,
          "name": "processed_at",
          "type": "TIMESTAMP",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 14,
          "name": "error_message",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 15,
          "name": "metadata",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ]
    },
    "user_count": {
      "success": true,
      "count": 5
    }
  },
  "ai_service_tests": {
    "ai_orchestrator": {
      "success": true,
      "status": false,
      "details": {
        "available_providers": [],
        "total_providers": 0,
        "capabilities": {}
      }
    },
    "business_recommendations": {
      "success": true,
      "status": true,
      "details": {
        "success": true,
        "engine_status": {
          "cached_businesses": 0,
          "total_recommendations_generated": 0,
          "engine_status": "operational",
          "last_generation": null
        },
        "recommendations_engine_available": true,
        "timestamp": "2025-08-05T22:09:15.650420"
      }
    },
    "performance_monitoring": {
      "success": true,
      "status": true,
      "details": {
        "success": true,
        "monitoring_status": {
          "monitoring_active": true,
          "components_monitored": 1,
          "total_metrics_collected": 2,
          "last_collection": "2025-08-05T22:09:15.632891",
          "alert_thresholds_configured": 4,
          "optimization_cache_size": 0
        },
        "performance_monitoring_available": true,
        "timestamp": "2025-08-05T22:09:15.652327"
      }
    },
    "knowledge_base": {
      "success": true,
      "status": true,
      "details": {
        "success": true,
        "knowledge_status": {
          "total_documents": 13,
          "domain_distribution": {
            "barbershop_operations": 2,
            "customer_experience": 3,
            "marketing_strategies": 3,
            "revenue_optimization": 3,
            "staff_management": 2
          },
          "average_confidence": 0.866153846153846,
          "knowledge_graph_entities": 0,
          "status": "operational"
        },
        "enhanced_knowledge_available": true,
        "timestamp": "2025-08-05T22:09:15.654215"
      }
    }
  },
  "performance_tests": {
    "GET__health": {
      "avg_response_time_ms": 1.3103961944580078,
      "min_response_time_ms": 1.1401176452636719,
      "max_response_time_ms": 1.7299652099609375,
      "all_response_times": [
        1.313924789428711,
        1.1401176452636719,
        1.2018680572509766,
        1.7299652099609375,
        1.1661052703857422
      ],
      "success": true
    },
    "GET__api_v1_agents": {
      "avg_response_time_ms": 1.4302253723144531,
      "min_response_time_ms": 1.3098716735839844,
      "max_response_time_ms": 1.6090869903564453,
      "all_response_times": [
        1.329183578491211,
        1.3852119445800781,
        1.5177726745605469,
        1.3098716735839844,
        1.6090869903564453
      ],
      "success": true
    },
    "GET__api_v1_dashboard_stats": {
      "avg_response_time_ms": 1.2567996978759766,
      "min_response_time_ms": 1.0950565338134766,
      "max_response_time_ms": 1.4967918395996094,
      "all_response_times": [
        1.3439655303955078,
        1.207113265991211,
        1.4967918395996094,
        1.1410713195800781,
        1.0950565338134766
      ],
      "success": true
    },
    "POST__api_v1_chat": {
      "avg_response_time_ms": 1.5058040618896484,
      "min_response_time_ms": 1.2900829315185547,
      "max_response_time_ms": 1.9180774688720703,
      "all_response_times": [
        1.9180774688720703,
        1.6050338745117188,
        1.332998275756836,
        1.2900829315185547,
        1.3828277587890625
      ],
      "success": true
    }
  },
  "security_tests": {},
  "errors": [
    {
      "test": "User Registration",
      "error": "Expected 200, got 500: Internal Server Error",
      "timestamp": "2025-08-05T18:09:15.513041"
    },
    {
      "test": "User Login",
      "error": "Expected 200, got 401: {\"detail\":\"Invalid email or password\"}",
      "timestamp": "2025-08-05T18:09:15.517279"
    },
    {
      "test": "Get Current User",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.519498"
    },
    {
      "test": "User Logout",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.521314"
    },
    {
      "test": "AI Chat Endpoint",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.531282"
    },
    {
      "test": "Dashboard Statistics",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.533176"
    },
    {
      "test": "Recent Bookings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.535049"
    },
    {
      "test": "Agentic Coach Chat",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.544302"
    },
    {
      "test": "Update Shop Context",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.546220"
    },
    {
      "test": "Get Conversation History",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.547895"
    },
    {
      "test": "Get Learning Insights",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.549418"
    },
    {
      "test": "Save Barbershop Settings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.551736"
    },
    {
      "test": "Get Barbershop Settings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.553376"
    },
    {
      "test": "Save Notification Settings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.555184"
    },
    {
      "test": "Get Notification Settings",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.556945"
    },
    {
      "test": "Save Business Hours",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.559200"
    },
    {
      "test": "Get Business Hours",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.561681"
    },
    {
      "test": "Send Notification",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.564054"
    },
    {
      "test": "Test Email Notification",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.566291"
    },
    {
      "test": "Get Notification History",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.569943"
    },
    {
      "test": "Queue Notification",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.573112"
    },
    {
      "test": "Get Queue Status",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.574905"
    },
    {
      "test": "Get Current Billing",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.577604"
    },
    {
      "test": "Get Billing History",
      "error": "Expected 200, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.579297"
    },
    {
      "test": "Get Predictive Analytics",
      "error": "Expected 200, got 422: {\"detail\":[{\"type\":\"missing\",\"loc\":[\"query\",\"user_id\"],\"msg\":\"Field required\",\"input\":null}]}",
      "timestamp": "2025-08-05T18:09:15.598799"
    },
    {
      "test": "Malformed JSON Request",
      "error": "Expected 422, got 403: {\"detail\":\"Not authenticated\"}",
      "timestamp": "2025-08-05T18:09:15.685911"
    }
  ]
}