{
  "timestamp": "2025-08-12T01:59:22.114Z",
  "totalTests": 10,
  "passed": 10,
  "failed": 0,
  "skipped": 0,
  "errors": [],
  "warnings": [
    "Database table check failed: Could not access database tables: 500",
    "❌ Campaign creation failed: 500",
    "❌ Marketing account setup failed: 500",
    "❌ Marketing page not accessible: 500",
    "Skipped: 0",
    "\n⚠️ WARNINGS:",
    "  - Database table check failed: Could not access database tables: 500",
    "  - ❌ Campaign creation failed: 500",
    "  - ❌ Marketing account setup failed: 500",
    "  - ❌ Marketing page not accessible: 500",
    "  - Skipped: 0",
    "  - \n⚠️ WARNINGS:"
  ],
  "results": {
    "Health Endpoint Check": {
      "status": "PASSED",
      "result": {
        "status": 200,
        "healthy": false
      }
    },
    "Marketing API Endpoints": {
      "status": "PASSED",
      "result": {
        "/api/marketing/campaigns": {
          "accessible": true,
          "statusCode": 404,
          "hasData": true
        },
        "/api/marketing/accounts": {
          "accessible": true,
          "statusCode": 400,
          "hasData": true
        },
        "/api/marketing/permissions": {
          "accessible": true,
          "statusCode": 400,
          "hasData": true
        },
        "/api/marketing/campaigns/send": {
          "accessible": true,
          "statusCode": 500,
          "hasData": true
        }
      }
    },
    "Database Tables Check": {
      "status": "PASSED",
      "result": {
        "marketing_campaigns": {
          "exists": "unknown",
          "accessible": false,
          "error": "Could not access database tables: 500"
        },
        "marketing_accounts": {
          "exists": "unknown",
          "accessible": false,
          "error": "Could not access database tables: 500"
        },
        "campaign_recipients": {
          "exists": "unknown",
          "accessible": false,
          "error": "Could not access database tables: 500"
        },
        "campaign_analytics": {
          "exists": "unknown",
          "accessible": false,
          "error": "Could not access database tables: 500"
        }
      }
    },
    "Services Configuration Check": {
      "status": "PASSED",
      "result": {
        "sendgridService": {
          "fileExists": true,
          "path": "/Users/bossio/6FB AI Agent System/services/sendgrid-service.js"
        },
        "twilioService": {
          "fileExists": true,
          "path": "/Users/bossio/6FB AI Agent System/services/twilio-service.js"
        },
        "campaignSendService": {
          "fileExists": true,
          "path": "/Users/bossio/6FB AI Agent System/app/api/marketing/campaigns/send/sendgrid-service.js"
        }
      }
    },
    "Campaign Creation Workflow": {
      "status": "PASSED",
      "result": {
        "creation": {
          "successful": false,
          "statusCode": 500
        }
      }
    },
    "Billing Account Setup": {
      "status": "PASSED",
      "result": {
        "successful": false,
        "statusCode": 500
      }
    },
    "Role-based Permissions": {
      "status": "PASSED",
      "result": {
        "CLIENT": {
          "accessible": false,
          "statusCode": 500,
          "permissions": {},
          "canAccessMarketing": false
        },
        "BARBER": {
          "accessible": false,
          "statusCode": 500,
          "permissions": {},
          "canAccessMarketing": false
        },
        "SHOP_OWNER": {
          "accessible": false,
          "statusCode": 500,
          "permissions": {},
          "canAccessMarketing": false
        },
        "ENTERPRISE_OWNER": {
          "accessible": false,
          "statusCode": 500,
          "permissions": {},
          "canAccessMarketing": false
        }
      }
    },
    "Email/SMS Service Integration": {
      "status": "PASSED",
      "result": {
        "sendgrid": {
          "configured": true,
          "tested": false,
          "statusCode": 500,
          "response": {
            "rawResponse": "<!DOCTYPE html><html><head><style data-next-hide-fouc=\"true\">body{display:none}</style><noscript data-next-hide-fouc=\"true\"><style>body{display:block}</style></noscript><meta charSet=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width\"/><meta name=\"next-head-count\" content=\"2\"/><noscript data-n-css=\"\"></noscript><script defer=\"\" nomodule=\"\" src=\"/_next/static/chunks/polyfills.js\"></script><script src=\"/_next/static/chunks/fallback/webpack.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/main.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/pages/_app.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/pages/_error.js\" defer=\"\"></script><noscript id=\"__next_css__DO_NOT_USE__\"></noscript></head><body><div id=\"__next\"></div><script src=\"/_next/static/chunks/fallback/react-refresh.js\"></script><script id=\"__NEXT_DATA__\" type=\"application/json\">{\"props\":{\"pageProps\":{\"statusCode\":500}},\"page\":\"/_error\",\"query\":{},\"buildId\":\"development\",\"isFallback\":false,\"err\":{\"name\":\"Error\",\"source\":\"server\",\"message\":\"Module not found: Can't resolve '@sendgrid/mail'\\n  15 |  */\\n  16 |\\n\\u003e 17 | const sgMail = require('@sendgrid/mail');\\n     |                ^\\n  18 | const { supabase } = require('../../../../../lib/supabase');\\n  19 | const crypto = require('crypto');\\n  20 |\\n\\nhttps://nextjs.org/docs/messages/module-not-found\\n\\nImport trace for requested module:\\n./app/api/marketing/campaigns/send/route.js\",\"stack\":\"Error: Module not found: Can't resolve '@sendgrid/mail'\\n\\u001b[0m \\u001b[90m 15 |\\u001b[39m \\u001b[90m */\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 16 |\\u001b[39m\\u001b[0m\\n\\u001b[0m\\u001b[31m\\u001b[1m\\u003e\\u001b[22m\\u001b[39m\\u001b[90m 17 |\\u001b[39m \\u001b[36mconst\\u001b[39m sgMail \\u001b[33m=\\u001b[39m require(\\u001b[32m'@sendgrid/mail'\\u001b[39m)\\u001b[33m;\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m    |\\u001b[39m                \\u001b[31m\\u001b[1m^\\u001b[22m\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 18 |\\u001b[39m \\u001b[36mconst\\u001b[39m { supabase } \\u001b[33m=\\u001b[39m require(\\u001b[32m'../../../../../lib/supabase'\\u001b[39m)\\u001b[33m;\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 19 |\\u001b[39m \\u001b[36mconst\\u001b[39m crypto \\u001b[33m=\\u001b[39m require(\\u001b[32m'crypto'\\u001b[39m)\\u001b[33m;\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 20 |\\u001b[39m\\u001b[0m\\n\\nhttps://nextjs.org/docs/messages/module-not-found\\n\\nImport trace for requested module:\\n./app/api/marketing/campaigns/send/route.js\\n    at getNotFoundError (/app/node_modules/next/dist/build/webpack/plugins/wellknown-errors-plugin/parseNotFoundError.js:124:16)\\n    at async getModuleBuildError (/app/node_modules/next/dist/build/webpack/plugins/wellknown-errors-plugin/webpackModuleError.js:104:27)\\n    at async /app/node_modules/next/dist/build/webpack/plugins/wellknown-errors-plugin/index.js:29:49\\n    at async Promise.all (index 0)\\n    at async /app/node_modules/next/dist/build/webpack/plugins/wellknown-errors-plugin/index.js:27:21\"},\"gip\":true,\"scriptLoader\":[]}</script></body></html>"
          }
        },
        "twilio": {
          "configured": true,
          "tested": false,
          "statusCode": 500,
          "response": {
            "rawResponse": "<!DOCTYPE html><html><head><style data-next-hide-fouc=\"true\">body{display:none}</style><noscript data-next-hide-fouc=\"true\"><style>body{display:block}</style></noscript><meta charSet=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width\"/><meta name=\"next-head-count\" content=\"2\"/><noscript data-n-css=\"\"></noscript><script defer=\"\" nomodule=\"\" src=\"/_next/static/chunks/polyfills.js\"></script><script src=\"/_next/static/chunks/fallback/webpack.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/main.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/pages/_app.js\" defer=\"\"></script><script src=\"/_next/static/chunks/fallback/pages/_error.js\" defer=\"\"></script><noscript id=\"__next_css__DO_NOT_USE__\"></noscript></head><body><div id=\"__next\"></div><script src=\"/_next/static/chunks/fallback/react-refresh.js\"></script><script id=\"__NEXT_DATA__\" type=\"application/json\">{\"props\":{\"pageProps\":{\"statusCode\":500}},\"page\":\"/_error\",\"query\":{},\"buildId\":\"development\",\"isFallback\":false,\"err\":{\"name\":\"Error\",\"source\":\"server\",\"message\":\"Module not found: Can't resolve '@sendgrid/mail'\\n  15 |  */\\n  16 |\\n\\u003e 17 | const sgMail = require('@sendgrid/mail');\\n     |                ^\\n  18 | const { supabase } = require('../../../../../lib/supabase');\\n  19 | const crypto = require('crypto');\\n  20 |\\n\\nhttps://nextjs.org/docs/messages/module-not-found\\n\\nImport trace for requested module:\\n./app/api/marketing/campaigns/send/route.js\",\"stack\":\"Error: Module not found: Can't resolve '@sendgrid/mail'\\n\\u001b[0m \\u001b[90m 15 |\\u001b[39m \\u001b[90m */\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 16 |\\u001b[39m\\u001b[0m\\n\\u001b[0m\\u001b[31m\\u001b[1m\\u003e\\u001b[22m\\u001b[39m\\u001b[90m 17 |\\u001b[39m \\u001b[36mconst\\u001b[39m sgMail \\u001b[33m=\\u001b[39m require(\\u001b[32m'@sendgrid/mail'\\u001b[39m)\\u001b[33m;\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m    |\\u001b[39m                \\u001b[31m\\u001b[1m^\\u001b[22m\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 18 |\\u001b[39m \\u001b[36mconst\\u001b[39m { supabase } \\u001b[33m=\\u001b[39m require(\\u001b[32m'../../../../../lib/supabase'\\u001b[39m)\\u001b[33m;\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 19 |\\u001b[39m \\u001b[36mconst\\u001b[39m crypto \\u001b[33m=\\u001b[39m require(\\u001b[32m'crypto'\\u001b[39m)\\u001b[33m;\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 20 |\\u001b[39m\\u001b[0m\\n\\nhttps://nextjs.org/docs/messages/module-not-found\\n\\nImport trace for requested module:\\n./app/api/marketing/campaigns/send/route.js\\n    at getNotFoundError (/app/node_modules/next/dist/build/webpack/plugins/wellknown-errors-plugin/parseNotFoundError.js:124:16)\\n    at async getModuleBuildError (/app/node_modules/next/dist/build/webpack/plugins/wellknown-errors-plugin/webpackModuleError.js:104:27)\\n    at async /app/node_modules/next/dist/build/webpack/plugins/wellknown-errors-plugin/index.js:29:49\\n    at async Promise.all (index 0)\\n    at async /app/node_modules/next/dist/build/webpack/plugins/wellknown-errors-plugin/index.js:27:21\"},\"gip\":true,\"scriptLoader\":[]}</script></body></html>"
          }
        }
      }
    },
    "Frontend Integration": {
      "status": "PASSED",
      "result": {
        "marketingPage": {
          "accessible": false,
          "statusCode": 500
        },
        "campaignsPage": {
          "accessible": false,
          "statusCode": 500
        }
      }
    },
    "Navigation Updates": {
      "status": "PASSED",
      "result": {
        "navigationEndpointExists": false,
        "statusCode": 500
      }
    }
  }
}